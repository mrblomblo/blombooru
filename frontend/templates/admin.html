{% extends "base.html" %}

{% block title %}Admin Panel - {{ app_name }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-4 max-w-4xl">
    <div id="admin-panel">
        <!-- Header & Tab Navigation -->
        <div class="flex flex-col sm:flex-row sm:items-end justify-between border-b mb-6">
            <h1 class="text-lg font-bold py-2 sm:pb-3">{{ t('admin.title') }}</h1>

            <div class="flex w-full sm:w-auto">
                <button type="button"
                    class="tab-btn flex-1 sm:flex-none text-center px-4 py-2 text-sm font-bold border-b-2 border-transparent hover:text-primary transition-colors whitespace-nowrap"
                    data-tab="system">
                    {{ t('admin.tabs.system') }}
                </button>
                <button type="button"
                    class="tab-btn flex-1 sm:flex-none text-center px-4 py-2 text-sm font-bold border-b-2 border-transparent hover:text-primary transition-colors whitespace-nowrap"
                    data-tab="content">
                    {{ t('admin.tabs.content') }}
                </button>
                <button type="button"
                    class="tab-btn flex-1 sm:flex-none text-center px-4 py-2 text-sm font-bold border-b-2 border-transparent hover:text-primary transition-colors whitespace-nowrap"
                    data-tab="stats">
                    {{ t('admin.tabs.stats') }}
                </button>
                <button type="button"
                    class="tab-btn flex-1 sm:flex-none text-center px-4 py-2 text-sm font-bold border-b-2 border-transparent hover:text-primary transition-colors whitespace-nowrap"
                    data-tab="account">
                    {{ t('admin.tabs.account') }}
                </button>
            </div>
        </div>

        <!-- System Tab -->
        <div id="tab-system" class="tab-content hidden">
            <!-- Settings Section -->
            <div id="settings-section">
                <div class="surface p-2 sm:p-6 border mb-4">
                    <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.settings.title') }}</h2>

                    <form id="settings-form">
                        <div class="space-y-4 mb-4">
                            <!-- Row 1: App Name + Items Per Page -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.app_name') }}
                                    </label>
                                    <input type="text" id="app-name" name="app_name"
                                        class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.items_per_page') }}
                                    </label>
                                    <input type="number" id="items-per-page" name="items_per_page" min="20" max="200"
                                        class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary">
                                </div>
                            </div>

                            <!-- Row 2: Theme + Language -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.theme') }}
                                    </label>
                                    <div id="theme-select" class="custom-select" data-value="">
                                        <button
                                            class="custom-select-trigger w-full flex items-center justify-between gap-3 px-3 py-2 bg border text-xs cursor-pointer focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                            type="button">
                                            <span class="custom-select-value text">
                                                {{ t('admin.settings.loading_themes') }}
                                            </span>
                                            <svg class="custom-select-arrow flex-shrink-0 transition-transform duration-200 text-secondary"
                                                width="12" height="12" viewBox="0 0 12 12">
                                                <path fill="currentColor" d="M6 9L1 4h10z" />
                                            </svg>
                                        </button>
                                        <div
                                            class="custom-select-dropdown bg border border-primary max-h-60 overflow-y-auto shadow-lg">
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.language') }}
                                    </label>
                                    <div id="language-select" class="custom-select"
                                        data-value="{{ current_language() }}">
                                        <button
                                            class="custom-select-trigger w-full flex items-center justify-between gap-3 px-3 py-2 bg border text-xs cursor-pointer focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                            type="button">
                                            <span class="custom-select-value text">
                                                {{ t('common.loading') }}
                                            </span>
                                            <svg class="custom-select-arrow flex-shrink-0 transition-transform duration-200 text-secondary"
                                                width="12" height="12" viewBox="0 0 12 12">
                                                <path fill="currentColor" d="M6 9L1 4h10z" />
                                            </svg>
                                        </button>
                                        <div
                                            class="custom-select-dropdown bg border border-primary max-h-60 overflow-y-auto shadow-lg">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Row 3: Default Sort + Order -->
                            <div>
                                <label class="block text-xs font-bold mb-2">
                                    {{ t('admin.settings.default_sort') }}
                                </label>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <div id="default-sort" class="custom-select w-full" data-value="uploaded_at">
                                        <button
                                            class="custom-select-trigger w-full flex items-center justify-between gap-3 px-3 py-2 bg border text-xs cursor-pointer focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                            type="button">
                                            <span class="custom-select-value text">
                                                {{ t('admin.settings.upload_date') }}
                                            </span>
                                            <svg class="custom-select-arrow flex-shrink-0 transition-transform duration-200 text-secondary"
                                                width="12" height="12" viewBox="0 0 12 12">
                                                <path fill="currentColor" d="M6 9L1 4h10z" />
                                            </svg>
                                        </button>
                                        <div
                                            class="custom-select-dropdown bg border border-primary max-h-60 overflow-y-auto shadow-lg">
                                            <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                data-value="uploaded_at">{{ t('admin.settings.upload_date') }}</div>
                                            <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                data-value="filename">{{ t('admin.settings.file_name') }}</div>
                                            <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                data-value="file_size">{{ t('admin.settings.file_size') }}</div>
                                            <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                data-value="file_type">{{ t('admin.settings.file_type') }}</div>
                                        </div>
                                    </div>
                                    <div id="default-order" class="custom-select w-full" data-value="desc">
                                        <button
                                            class="custom-select-trigger w-full flex items-center justify-between gap-3 px-3 py-2 bg border text-xs cursor-pointer focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                            type="button">
                                            <span class="custom-select-value text">
                                                {{ t('admin.settings.descending') }}
                                            </span>
                                            <svg class="custom-select-arrow flex-shrink-0 transition-transform duration-200 text-secondary"
                                                width="12" height="12" viewBox="0 0 12 12">
                                                <path fill="currentColor" d="M6 9L1 4h10z" />
                                            </svg>
                                        </button>
                                        <div
                                            class="custom-select-dropdown bg border border-primary max-h-60 overflow-y-auto shadow-lg">
                                            <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                data-value="desc">{{ t('admin.settings.descending') }}</div>
                                            <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                data-value="asc">{{ t('admin.settings.ascending') }}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Row 4: External Share URL -->
                            <div>
                                <label class="block text-xs font-bold mb-2">
                                    {{ t('admin.settings.external_share_url') }}
                                </label>
                                <input type="url" id="external-share-url" name="external_share_url"
                                    placeholder="https://example.com"
                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary">
                                <p class="text-xs text-secondary opacity-70 mt-1 ml-1">
                                    {{ t('admin.settings.external_share_url_hint') }}
                                </p>
                            </div>

                            <!-- Row 5: Security + Sidebar Filter -->
                            <div class="space-y-4">
                                <!-- Security -->
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.security') }}
                                    </label>
                                    <div class="bg p-4 border h-full">
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" id="require-auth" name="require_auth"
                                                class="w-4 h-4 accent-primary">
                                            <span class="text-xs">{{ t('admin.settings.require_auth') }}</span>
                                        </label>
                                        <p class="text-xs text-secondary opacity-70 ml-6">
                                            {{ t('admin.settings.require_auth_hint') }}
                                        </p>
                                    </div>
                                </div>

                                <!-- Sidebar Filter -->
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.sidebar_filter') }}
                                    </label>
                                    <div class="bg p-4 border h-full flex flex-col gap-3">
                                        <div>
                                            <label
                                                class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                {{ t('admin.settings.sidebar_filter_mode') }}
                                            </label>
                                            <div id="sidebar-filter-mode" class="custom-select" data-value="rating">
                                                <button
                                                    class="custom-select-trigger w-full flex items-center justify-between gap-3 px-3 py-2 bg border text-xs cursor-pointer focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    type="button">
                                                    <span class="custom-select-value text">
                                                        {{ t('admin.settings.sidebar_mode_rating') }}
                                                    </span>
                                                    <svg class="custom-select-arrow flex-shrink-0 transition-transform duration-200 text-secondary"
                                                        width="12" height="12" viewBox="0 0 12 12">
                                                        <path fill="currentColor" d="M6 9L1 4h10z" />
                                                    </svg>
                                                </button>
                                                <div
                                                    class="custom-select-dropdown bg border border-primary max-h-60 overflow-y-auto shadow-lg">
                                                    <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                        data-value="rating">
                                                        {{ t('admin.settings.sidebar_mode_rating') }}
                                                    </div>
                                                    <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                        data-value="custom">
                                                        {{ t('admin.settings.sidebar_mode_custom') }}
                                                    </div>
                                                    <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs"
                                                        data-value="off">
                                                        {{ t('admin.settings.sidebar_mode_off') }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div id="custom-buttons-container" style="display: none;">
                                            <label
                                                class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                {{ t('admin.settings.custom_buttons') }}
                                            </label>
                                            <p class="text-xs text-secondary opacity-70 mb-2">
                                                {{ t('admin.settings.custom_buttons_hint') }}
                                            </p>
                                            <div id="custom-buttons-list" class="space-y-2 mb-2"></div>
                                            <button type="button" id="add-custom-button-btn"
                                                class="w-full px-3 py-2 bg-primary primary-text border-primary text-xs hover:bg-primary transition-colors">
                                                + {{ t('admin.settings.add_button') }}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <!-- Caching -->
                            <div>
                                <label class="block text-xs font-bold mb-2">{{ t('admin.caching.title') }}</label>
                                <div class="bg p-4 border h-full">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" id="redis-enabled" name="redis_enabled"
                                            class="w-4 h-4 accent-primary">
                                        <span class="text-xs font-bold">{{ t('admin.caching.enable_redis') }}</span>
                                    </label>

                                    <div id="redis-settings-container" class="mt-4" style="display: none;">
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.host') }}
                                                </label>
                                                <input type="text" id="redis-host"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="redis">
                                            </div>
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.port') }}
                                                </label>
                                                <input type="number" id="redis-port"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="6379">
                                            </div>
                                        </div>
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('admin.caching.db_index') }}
                                                </label>
                                                <input type="number" id="redis-db"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="0">
                                            </div>
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.password') }}
                                                </label>
                                                <input type="password" id="redis-password"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="{{ t('common.password_placeholder') }}">
                                            </div>
                                        </div>
                                        <button type="button" id="test-redis-btn"
                                            class="w-full px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                            {{ t('common.test_connection') }}
                                        </button>
                                        <div id="redis-test-result" class="mt-2 text-xs" style="display: none;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Shared Tags -->
                            <div>
                                <label class="block text-xs font-bold mb-2">{{ t('admin.shared_tags.title') }}</label>
                                <div class="bg p-4 border h-full">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" id="shared-tags-enabled" name="shared_tags_enabled"
                                            class="w-4 h-4 accent-primary">
                                        <span class="text-xs font-bold">{{ t('admin.shared_tags.enable') }}</span>
                                    </label>
                                    <p class="text-xs text-secondary opacity-70 ml-6">
                                        {{ t('admin.shared_tags.description') }}
                                    </p>

                                    <div id="shared-tags-settings-container" class="mt-4" style="display: none;">
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.host') }}
                                                </label>
                                                <input type="text" id="shared-tags-host"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="shared-tag-db">
                                            </div>
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.port') }}
                                                </label>
                                                <input type="number" id="shared-tags-port"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="5432">
                                            </div>
                                        </div>
                                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.database') }}
                                                </label>
                                                <input type="text" id="shared-tags-name"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="shared_tags">
                                            </div>
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.username') }}
                                                </label>
                                                <input type="text" id="shared-tags-user"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="postgres">
                                            </div>
                                            <div>
                                                <label
                                                    class="block text-[10px] font-bold uppercase tracking-wider mb-1 opacity-70">
                                                    {{ t('common.password') }}
                                                </label>
                                                <input type="password" id="shared-tags-password"
                                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                                    placeholder="{{ t('common.password_placeholder') }}">
                                            </div>
                                        </div>
                                        <div class="flex gap-2 mb-2">
                                            <button type="button" id="test-shared-tags-btn"
                                                class="flex-1 px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                                {{ t('common.test_connection') }}
                                            </button>
                                            <button type="button" id="sync-shared-tags-btn"
                                                class="flex-1 px-4 py-2 surface border transition-colors hover:border-primary text-xs"
                                                style="display: none;">
                                                {{ t('admin.shared_tags.sync_now') }}
                                            </button>
                                        </div>
                                        <div id="shared-tags-test-result" class="mt-2 text-xs" style="display: none;">
                                        </div>
                                        <div id="shared-tags-status" class="mt-3 p-3 surface border text-xs"
                                            style="display: none;">
                                            <div class="flex items-center justify-between">
                                                <span id="shared-tags-connection-status"></span>
                                                <span id="shared-tags-counts"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-end border-t mt-4 pt-4">
                            <button type="submit"
                                class="px-6 py-2 bg-primary primary-text transition-colors hover:bg-primary text-sm font-bold">
                                {{ t('admin.settings.save_settings') }}
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Booru Configuration Section -->
                <div id="booru-config-section" class="surface p-2 sm:p-6 border mb-4">
                    <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.settings.booru_config.title') }}</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Config Form -->
                        <div>
                            <form id="booru-config-form" class="space-y-4">
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.booru_config.domain') }}
                                    </label>
                                    <input type="text" name="domain" placeholder="safebooru.org"
                                        class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors">
                                    <p class="text-[10px] text-secondary mt-1">
                                        {{ t('admin.settings.booru_config.domain_hint') }}
                                    </p>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.booru_config.username') }}
                                    </label>
                                    <input type="text" name="username" placeholder="123456"
                                        class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold mb-2">
                                        {{ t('admin.settings.booru_config.api_key') }}
                                    </label>
                                    <input type="text" name="api_key" placeholder="1234567890abcdef1234567890abcdef"
                                        class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors">
                                    <p class="text-[10px] text-secondary mt-1">
                                        {{ t('admin.settings.booru_config.api_key_hint') }}
                                    </p>
                                </div>
                                <div class="mt-4">
                                    <button type="submit"
                                        class="px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                        {{ t('common.save') }}
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Config List -->
                        <div>
                            <h3 class="text-sm font-bold mb-1">
                                {{ t('admin.settings.booru_config.configured_sites') }}
                            </h3>
                            <div class="overflow-x-auto max-h-60 overflow-y-auto border">
                                <table id="booru-config-table" class="bg w-full text-left border-collapse">
                                    <thead class="border-b">
                                        <tr class="text-secondary text-xs">
                                            <th class="sticky top-0 z-10 py-2 px-3 font-medium">
                                                {{ t('admin.settings.booru_config.domain') }}
                                            </th>
                                            <th class="sticky top-0 z-10 py-2 px-3 font-medium">
                                                {{ t('admin.settings.booru_config.username') }}
                                            </th>
                                            <th class="sticky top-0 z-10 py-2 px-3 font-medium">
                                                {{ t('admin.settings.booru_config.key') }}
                                            </th>
                                            <th class="sticky top-0 z-10 py-2 px-3 font-medium text-right">
                                                {{ t('admin.settings.booru_config.action') }}
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Populated by JS -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- API Access Section -->
                <div class="surface p-2 sm:p-6 border mb-4">
                    <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.api_access.title') }}</h2>

                    <p class="text-xs text-secondary mb-4">
                        {{ t('admin.api_access.description') }}
                    </p>

                    <div class="mb-6">
                        <button id="generate-api-key-btn"
                            class="px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                            {{ t('admin.api_access.generate_key') }}
                        </button>

                        <div id="new-api-key-display" style="display: none;"
                            class="mt-4 p-4 border border-primary bg bg-opacity-5">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-xs font-bold uppercase tracking-wider text-white">
                                    {{ t('admin.api_access.new_api_key') }}
                                </span>
                                <span class="text-[10px] bg-danger tag-text px-1.5 py-0.5 font-bold">
                                    {{ t('admin.api_access.shown_once') }}
                                </span>
                            </div>
                            <div class="flex gap-2">
                                <input type="text" id="new-api-key-value"
                                    class="w-full surface px-3 py-2 border text-xs font-mono hover:border-primary transition-colors focus:outline-none focus:border-primary"
                                    readonly>
                                <button id="copy-api-key-btn"
                                    class="px-4 py-2 bg-primary primary-text border text-xs hover:bg-primary transition-colors whitespace-nowrap">
                                    {{ t('admin.api_access.copy_key') }}
                                </button>
                            </div>
                            <p class="text-[10px] mt-2 opacity-70 italic font-bold">
                                {{ t('admin.api_access.store_securely') }}
                            </p>
                        </div>
                    </div>

                    <div id="api-keys-container">
                        <h3 class="text-sm font-bold mb-3">{{ t('admin.api_access.active_keys') }}</h3>
                        <div id="api-keys-list" class="border">
                            <!-- Keys will be populated here as rows -->
                            <div class="bg p-4 text-center text-xs text-secondary">
                                {{ t('admin.api_access.loading_keys') }}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backup & Restore Section -->
                <div class="surface p-2 sm:p-6 border mb-4">
                    <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.backup.title') }}</h2>

                    <div class="mb-4">
                        <h3 class="text-sm font-bold mb-3">{{ t('admin.backup.export_data') }}</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                            <a href="/api/admin/backup/tags"
                                class="block w-full text-center px-4 py-2 bg border transition-colors hover:border-primary text-xs">
                                {{ t('admin.backup.export_tags') }}
                            </a>
                            <a href="/api/admin/backup/media"
                                class="block w-full text-center px-4 py-2 bg border transition-colors hover:border-primary text-xs">
                                {{ t('admin.backup.export_media') }}
                            </a>
                            <a href="/api/admin/backup/full"
                                class="block w-full text-center px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                {{ t('admin.backup.full_backup') }}
                            </a>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h3 class="text-sm font-bold mb-3">{{ t('admin.backup.import_backup') }}</h3>
                        <div class="bg p-4 border block">
                            <p class="text-xs text-secondary mb-3">
                                {{ t('admin.backup.import_hint') }}<br>
                                {{ t('admin.backup.import_warning') }}<br>
                                <strong>{{ t('common.warning') }}:</strong> {{ t('admin.backup.import_time_warning') }}
                            </p>

                            <div id="full-import-area" class="upload-area">
                                <p class="text-xs">{{ t('admin.backup.drop_backup') }}</p>
                                <input type="file" id="full-import-input" accept=".zip" class="hidden">
                            </div>

                            <div id="full-import-status" style="display: none;" class="mt-3">
                                <div class="text-xs">
                                    <div id="full-import-progress"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Update Section -->
                <div class="surface p-2 sm:p-6 border">
                    <h2 class="text-base font-bold mb-4 pb-3 border-b">
                        {{ t('admin.update.title') }}
                    </h2>
                    <p class="text-xs text-secondary mb-3">
                        <strong>{{ t('common.warning') }}:</strong> {{ t('admin.update.backup_warning') }}
                    </p>

                    <div id="update-initial-state">
                        <p class="text-xs text-secondary mb-3">
                            {{ t('admin.update.contact_github') }}
                        </p>
                        <button id="btn-check-updates"
                            class="px-4 py-2 bg-primary primary-text text-xs hover:bg-primary transition-colors">
                            {{ t('admin.update.check_updates') }}
                        </button>
                    </div>

                    <div id="update-loading" class="bg p-2 border text-xs text-secondary hidden">
                        {{ t('admin.update.checking') }}
                    </div>

                    <div id="update-status" style="display: none;">
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <div class="text-xs text-secondary mb-1">{{ t('admin.update.current_version') }}</div>
                                <div class="text-sm font-bold font-mono" id="current-version-display">...</div>
                            </div>
                            <div>
                                <div class="text-xs text-secondary mb-1">{{ t('admin.update.latest_version') }}</div>
                                <div class="text-sm font-bold font-mono" id="latest-version-display">...</div>
                            </div>
                        </div>

                        <div id="update-notices" class="mb-4 hidden"></div>

                        <div id="update-instructions" class="mb-4 hidden">
                            <div class="text-xs text-secondary mb-1">{{ t('admin.update.update_instructions') }}</div>
                            <pre class="bg bg-opacity-20 p-2 border font-mono text-[10px] whitespace-pre-wrap select-all"
                                id="update-command-text"></pre>
                        </div>

                        <div id="config-files-notice" class="mb-4 hidden">
                            <div class="text-xs tag-text p-2 border border-warning bg-warning bg-opacity-10"
                                id="config-files-message"></div>
                            <div id="config-files-links" class="mt-2 flex flex-wrap gap-2"></div>
                        </div>

                        <div class="flex gap-3 mb-4">
                            <button id="btn-update-now" style="display: none;"
                                class="px-4 py-2 bg-primary primary-text text-xs hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                {{ t('admin.update.update_now') }}
                            </button>
                            <a id="btn-view-release" href="#" target="_blank" style="display: none;"
                                class="px-4 py-2 bg border text-xs hover:border-primary transition-colors inline-block">
                                {{ t('admin.update.view_release') }}
                            </a>
                            <button id="btn-view-changelog" style="display: none;"
                                class="px-4 py-2 bg border text-xs hover:border-primary transition-colors">
                                {{ t('admin.update.view_changelog') }}
                            </button>
                        </div>
                    </div>

                    <div id="update-result" class="mt-4 hidden">
                        <h3 class="text-xs font-bold mb-2" id="update-result-title">
                            {{ t('admin.update.update_output') }}
                        </h3>
                        <pre class="bg-black bg-opacity-20 p-2 border max-h-60 overflow-y-auto font-mono text-[10px] whitespace-pre-wrap"
                            id="update-result-log"></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Tab -->
        <div id="tab-content" class="tab-content hidden">
            <!-- Media Management Section -->
            <div class="surface p-2 sm:p-6 border mb-4" id="media-management">
                <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.media_management.title') }}</h2>
                <div id="media-stats" class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4">
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.media_management.total_media') }}</div>
                        <div class="text-lg font-bold" id="total-media">0</div>
                    </div>
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.media_management.total_images') }}</div>
                        <div class="text-lg font-bold" id="total-images">0</div>
                    </div>
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.media_management.total_gifs') }}</div>
                        <div class="text-lg font-bold" id="total-gifs">0</div>
                    </div>
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.media_management.total_videos') }}</div>
                        <div class="text-lg font-bold" id="total-videos">0</div>
                    </div>
                </div>

                <div class="mb-4">
                    <h3 class="text-sm font-bold mb-3">{{ t('admin.media_management.upload_media') }}</h3>
                    <div class="bg p-4 border">
                        <p class="text-xs text-secondary mb-3">
                            {{ t('admin.media_management.upload_hint') }}<br>
                            {{ t('admin.media_management.supported_images') }}<br>
                            {{ t('admin.media_management.supported_videos') }}<br>
                            {{ t('admin.media_management.max_file_size') }}<br>
                            {{ t('admin.media_management.archive_hint') }}
                        </p>
                        <button id="scan-media-btn"
                            class="px-4 py-2 w-full bg-primary primary-text transition-colors hover:bg-primary text-xs mb-4">
                            {{ t('admin.media_management.scan_untracked') }}
                        </button>
                        <div id="upload-area" class="upload-area">
                            <p class="text-xs">{{ t('admin.media_management.drop_media') }}</p>
                            <input type="file" id="file-input" multiple accept="image/*,video/*,.zip,.tar.gz,.tgz">
                        </div>
                    </div>
                </div>

                <div id="booru-import-section">
                    <h3 class="text-sm font-bold mb-3">{{ t('admin.media_management.booru_import.title') }}</h3>
                    <div class="bg p-4 border">
                        <p class="text-xs text-secondary mb-3">
                            {{ t('admin.media_management.booru_import.hint') }}
                        </p>

                        <div class="flex gap-2 mb-3">
                            <input type="text" id="booru-url-input"
                                class="flex-1 bg px-3 py-2 border text-xs focus:outline-none focus:border-primary"
                                placeholder="{{ t('admin.media_management.booru_import.url_placeholder') }}">
                            <button id="booru-fetch-btn"
                                class="px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs whitespace-nowrap">
                                {{ t('admin.media_management.booru_import.fetch') }}
                            </button>
                        </div>

                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="checkbox" id="booru-auto-create-tags" class="w-4 h-4 accent-primary" checked>
                            <span class="text-xs">{{ t('admin.media_management.booru_import.auto_create_tags') }}</span>
                        </label>

                        <div id="booru-status" class="mt-3" style="display: none;"></div>
                        <div id="booru-preview-area" class="mt-3" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Tags Management Section -->
            <div class="surface p-2 sm:p-6 border mb-4">
                <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.tags_management.title') }}</h2>

                <div id="tag-stats" class="grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4">
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.tags_management.total_tags') }}</div>
                        <div class="text-lg font-bold" id="total-tags">0</div>
                    </div>
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.tags_management.tag_aliases') }}</div>
                        <div class="text-lg font-bold" id="total-aliases">0</div>
                    </div>
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.tags_management.categories') }}</div>
                        <div class="text-lg font-bold" id="total-categories">5</div>
                    </div>
                </div>

                <div class="mb-4">
                    <h3 class="text-sm font-bold mb-3">{{ t('admin.tags_management.import_csv') }}</h3>
                    <div class="bg p-4 border">
                        <p class="text-xs text-secondary mb-3">
                            {{ t('admin.tags_management.csv_format') }}<br>
                            <code class="surface">
                                {{ t('admin.tags_management.csv_example') }}
                            </code><br>
                            {{ t('admin.tags_management.csv_categories') }}
                        </p>

                        <div id="csv-upload-area" class="upload-area">
                            <p class="text-xs">{{ t('admin.tags_management.drop_csv') }}</p>
                            <input type="file" id="csv-file-input" accept=".csv" class="hidden">
                        </div>

                        <div id="csv-import-status" style="display: none;" class="mt-3">
                            <div class="text-xs">
                                <div id="csv-import-progress"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <h3 class="text-sm font-bold mb-3">{{ t('admin.tags_management.add_tags') }}</h3>
                    <div class="bg p-4 border">
                        <p class="text-xs text-secondary mb-3">
                            {{ t('admin.tags_management.add_tags_hint') }}<br>
                            <code class="surface">artist:&lt;tag&gt;</code>,
                            <code class="surface">copyright:&lt;tag&gt;</code>,
                            <code class="surface">character:&lt;tag&gt;</code>,
                            <code class="surface">meta:&lt;tag&gt;</code><br>
                            {{ t('admin.tags_management.tags_without_prefix') }}<br>
                            {{ t('admin.tags_management.tags_exist_hint') }}
                        </p>

                        <form id="add-tags-form">
                            <label class="block text-xs font-bold mb-2">
                                {{ t('admin.tags_management.tags_to_add') }}
                            </label>
                            <div style="position: relative;">
                                <div id="new-tags-input" contenteditable="true"
                                    data-placeholder="artist:bingus character:herbert meta:ai-generated copyright:original cool_tag"
                                    class="w-full bg px-3 py-2 border text-xs mb-3 focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                    style="min-height: 1.5rem; white-space: pre-wrap; overflow-wrap: break-word;"></div>
                            </div>
                            <button type="submit"
                                class="w-full px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                {{ t('admin.tags_management.add_tags') }}
                            </button>
                        </form>

                        <div id="add-tags-status" style="display: none;" class="mt-3">
                            <div class="text-xs">
                                <div id="add-tags-result"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <h3 class="text-sm font-bold mb-3">{{ t('admin.tags_management.search_delete_tags') }}</h3>
                    <div class="flex flex-col gap-3">
                        <div class="flex gap-2 mb-3">
                            <div class="relative w-full">
                                <input type="text" id="tag-search-input"
                                    placeholder="{{ t('admin.tags_management.search_tags_placeholder') }}"
                                    class="flex-1 w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary">
                            </div>
                            <button id="tag-search-btn"
                                class="px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                {{ t('common.search') }}
                            </button>
                        </div>
                        <div id="tag-search-results" class="max-h-64 overflow-y-auto"></div>
                    </div>
                </div>

                <div class="border-t pt-4">
                    <h3 class="text-sm font-bold mb-3 text-danger">{{ t('admin.tags_management.danger_zone') }}</h3>
                    <button id="clear-tags-btn"
                        class="px-4 py-2 bg-danger transition-colors hover:bg-danger tag-text text-xs">
                        {{ t('admin.tags_management.delete_all_tags') }}
                    </button>
                </div>
            </div>

            <!-- Albums Management Section -->
            <div class="surface p-2 sm:p-6 border">
                <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.albums_management.title') }}</h2>

                <div id="album-stats" class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4">
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.albums_management.total_albums') }}</div>
                        <div class="text-lg font-bold" id="total-albums">0</div>
                    </div>
                    <div class="bg p-3 border">
                        <div class="text-xs text-secondary">{{ t('admin.albums_management.root_albums') }}</div>
                        <div class="text-lg font-bold" id="root-albums">0</div>
                    </div>
                </div>

                <div class="mb-4">
                    <h3 class="text-sm font-bold mb-3">{{ t('admin.albums_management.create_album') }}</h3>
                    <div class="bg p-4 border">
                        <form id="create-album-form">
                            <div class="mb-3">
                                <label class="block text-xs font-bold mb-2">
                                    {{ t('admin.albums_management.album_name') }}
                                </label>
                                <input type="text" id="album-name-input" required
                                    class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                    placeholder="{{ t('admin.albums_management.album_name_placeholder') }}">
                            </div>

                            <div class="mb-3" id="parent-album-container">
                                <label class="block text-xs font-bold mb-2">
                                    {{ t('admin.albums_management.parent_album') }}
                                </label>
                                <div id="parent-album-select" class="custom-select" data-value="">
                                    <button
                                        class="custom-select-trigger w-full flex items-center justify-between gap-3 px-3 py-2 bg border text-xs cursor-pointer focus:outline-none hover:border-primary transition-colors focus:border-primary"
                                        type="button">
                                        <span class="custom-select-value text">
                                            {{ t('admin.albums_management.none_root') }}
                                        </span>
                                        <svg class="custom-select-arrow flex-shrink-0 transition-transform duration-200 text-secondary"
                                            width="12" height="12" viewBox="0 0 12 12">
                                            <path fill="currentColor" d="M6 9L1 4h10z" />
                                        </svg>
                                    </button>
                                    <div
                                        class="custom-select-dropdown bg border border-primary max-h-60 overflow-y-auto shadow-lg">
                                        <div class="custom-select-option px-3 py-2 cursor-pointer hover:surface text-xs selected"
                                            data-value="">{{ t('admin.albums_management.none_root') }}</div>
                                    </div>
                                </div>
                            </div>

                            <button type="submit"
                                class="w-full px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                {{ t('admin.albums_management.create_album') }}
                            </button>
                        </form>
                    </div>
                </div>

                <div>
                    <h3 class="text-sm font-bold mb-3">{{ t('admin.albums_management.search_manage') }}</h3>
                    <div class="flex flex-col gap-3">
                        <div class="flex gap-2">
                            <div class="w-full">
                                <input type="text" id="album-search-input"
                                    placeholder="{{ t('admin.albums_management.search_albums_placeholder') }}"
                                    class="flex-1 w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary">
                            </div>
                            <button id="album-search-btn"
                                class="px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                                {{ t('common.search') }}
                            </button>
                        </div>
                        <div id="album-search-results" class="max-h-96 overflow-y-auto mt-3"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Account Tab -->
        <div id="tab-account" class="tab-content hidden">
            <!-- Admin Account Management Section -->
            <div class="surface p-2 sm:p-6 border">
                <h2 class="text-base font-bold mb-4 pb-3 border-b">{{ t('admin.account.title') }}</h2>

                <div class="mb-6">
                    <form id="change-admin-password-form">
                        <div class="mb-4">
                            <label class="block text-xs font-bold mb-2">{{ t('admin.account.new_password') }}</label>
                            <input type="password" id="new-admin-password" required minlength="6" maxlength="50"
                                placeholder="password123"
                                class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary">
                            <p class="text-xs text-secondary opacity-70 mt-1 ml-1">
                                {{ t('admin.account.password_hint') }}
                            </p>
                        </div>

                        <button type="submit"
                            class="px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                            {{ t('admin.account.change_password') }}
                        </button>
                    </form>

                    <div id="change-password-status" style="display: none;" class="mt-3">
                        <div class="text-xs">
                            <div id="change-password-result"></div>
                        </div>
                    </div>
                </div>

                <form id="change-admin-username-form">
                    <div class="mb-4">
                        <label class="block text-xs font-bold mb-2">{{ t('admin.account.new_username') }}</label>
                        <input type="text" id="new-admin-username" required placeholder="admin"
                            class="w-full bg px-3 py-2 border text-xs focus:outline-none hover:border-primary transition-colors focus:border-primary">
                    </div>

                    <button type="submit"
                        class="px-4 py-2 bg-primary primary-text transition-colors hover:bg-primary text-xs">
                        {{ t('admin.account.change_username') }}
                    </button>
                </form>

                <div id="change-username-status" style="display: none;" class="mt-3">
                    <div class="text-xs">
                        <div id="change-username-result"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Tab -->
        <div id="tab-stats" class="tab-content hidden">
            <div id="stats-content">
                <!-- Stats Overview Cards -->
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4">
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.stats.total_storage') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-total-storage">0 B</div>
                    </div>
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.media_management.total_media') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-total-media">0</div>
                    </div>
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.stats.parent_media') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-parent-media">0</div>
                    </div>
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.stats.child_media') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-child-media">0</div>
                    </div>
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.albums_management.total_albums') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-total-albums">0</div>
                    </div>
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.tags_management.total_tags') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-total-tags">0</div>
                    </div>
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.tags_management.tag_aliases') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-tag-aliases">0</div>
                    </div>
                    <div class="surface p-3 sm:p-4 border">
                        <div class="text-xs text-secondary mb-1">{{ t('admin.stats.tags_with_aliases') }}</div>
                        <div class="text-xl sm:text-2xl font-bold" id="stat-tags-with-aliases">0</div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="space-y-4">
                    <!-- Upload Trends -->
                    <div class="surface p-4 sm:p-6 border">
                        <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.upload_trends') }}</h3>
                        <div class="h-56 sm:h-64">
                            <canvas id="chart-upload-trends"></canvas>
                        </div>
                    </div>

                    <!-- Tag Category and Album Size Distribution -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.tag_category_distribution') }}</h3>
                            <div class="h-48 sm:h-64">
                                <canvas id="chart-tag-category"></canvas>
                            </div>
                        </div>
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.album_size_distribution') }}</h3>
                            <div class="h-48 sm:h-64">
                                <canvas id="chart-album-size"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Media Type and Rating Distribution -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.media_type_distribution') }}</h3>
                            <div class="h-48 sm:h-64">
                                <canvas id="chart-media-type"></canvas>
                            </div>
                        </div>
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.rating_distribution') }}</h3>
                            <div class="h-48 sm:h-64">
                                <canvas id="chart-media-rating"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Top Tags and Top Tags by Category -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.top_tags') }}</h3>
                            <div class="h-56 sm:h-80">
                                <canvas id="chart-top-tags"></canvas>
                            </div>
                        </div>
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.top_general_tags') }}</h3>
                            <div class="h-56 sm:h-64">
                                <canvas id="chart-top-general"></canvas>
                            </div>
                        </div>
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.top_artist_tags') }}</h3>
                            <div class="h-56 sm:h-64">
                                <canvas id="chart-top-artist"></canvas>
                            </div>
                        </div>
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.top_character_tags') }}</h3>
                            <div class="h-56 sm:h-64">
                                <canvas id="chart-top-character"></canvas>
                            </div>
                        </div>
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.top_copyright_tags') }}</h3>
                            <div class="h-56 sm:h-64">
                                <canvas id="chart-top-copyright"></canvas>
                            </div>
                        </div>
                        <div class="surface p-4 sm:p-6 border">
                            <h3 class="text-sm font-bold mb-4">{{ t('admin.stats.top_meta_tags') }}</h3>
                            <div class="h-56 sm:h-64">
                                <canvas id="chart-top-meta"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/fullscreen-mediaviewer.js?v={{ cache_buster }}"></script>
<script src="/static/js/tag-input-helper.js?v={{ cache_buster }}"></script>
<script src="/static/js/booru-config.js?v={{ cache_buster }}"></script>
<script src="/static/js/custom-select.js?v={{ cache_buster }}"></script>
<script src="/static/js/vendor/chart.min.js?v={{ cache_buster }}"></script>
<script src="/static/js/admin-stats.js?v={{ cache_buster }}"></script>
<script src="/static/js/admin.js?v={{ cache_buster }}"></script>
<script src="/static/js/upload.js?v={{ cache_buster }}"></script>
<script src="/static/js/booru-import.js?v={{ cache_buster }}"></script>
{% endblock %}
